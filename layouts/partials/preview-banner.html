{{ if getenv "HUGO_IS_PREVIEW" }}
<div id="preview-banner" style="background: #fef3c7; color: #dc2626; padding: 12px 16px; position: fixed; top: 0; left: 0; right: 0; width: 100%; z-index: 9999; font-family: sans-serif; font-size: 14px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border-bottom: 2px solid #f59e0b;">
  <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 8px;">
    <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
      <span style="font-weight: 600;">üìù Preview Build</span>
      <span>PR #{{ getenv "HUGO_PR_NUMBER" }}</span>
      <span>{{ getenv "HUGO_BRANCH" }}</span>
      {{ if getenv "HUGO_BUILD_TIME" }}
      <span style="font-size: 12px; opacity: 0.8;">Built: {{ getenv "HUGO_BUILD_TIME" }}</span>
      {{ end }}
    </div>
    <div style="display: flex; align-items: center; gap: 12px;">
      {{ if getenv "HUGO_PR_URL" }}
      <a href="{{ getenv "HUGO_PR_URL" }}" target="_blank" rel="noopener" style="color: #dc2626; text-decoration: none; font-weight: 500; padding: 4px 8px; border: 1px solid #dc2626; border-radius: 4px; background: rgba(220, 38, 38, 0.1); transition: all 0.2s;">View PR</a>
      {{ end }}
      {{ if getenv "HUGO_RUN_URL" }}
      <a href="{{ getenv "HUGO_RUN_URL" }}" target="_blank" rel="noopener" style="color: #dc2626; text-decoration: none; font-size: 12px; opacity: 0.8;">Build Log</a>
      {{ end }}
      <button onclick="document.getElementById('preview-banner').style.display='none'" style="background: none; border: none; color: #dc2626; font-size: 16px; cursor: pointer; padding: 2px 6px; border-radius: 3px; opacity: 0.7;" title="Dismiss banner">‚úï</button>
    </div>
  </div>
</div>
<style>
#preview-banner a:hover {
  background: rgba(220, 38, 38, 0.2) !important;
}
@media (max-width: 768px) {
  #preview-banner {
    font-size: 12px !important;
    padding: 8px 12px !important;
  }
  #preview-banner > div {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 6px !important;
  }
}
</style>
{{ end }}